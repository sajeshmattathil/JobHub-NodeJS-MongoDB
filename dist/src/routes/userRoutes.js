"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const router = express_1.default.Router();
const inversify_1 = require("inversify");
const Utils_1 = require("../../Utils");
const userRepository_1 = require("../repositories/userRepository");
const UserController_1 = require("../controllers/UserController");
const jwtUser_1 = __importDefault(require("../../Middleware/JWT/jwtUser"));
const chatController_1 = __importDefault(require("../../Chat/chatController"));
const userInteractor_1 = require("../interactors/userInteractor");
const container = new inversify_1.Container();
container.bind(Utils_1.INTERFACE_TYPE.UserRepository).to(userRepository_1.UserRepository);
container.bind(Utils_1.INTERFACE_TYPE.UserInteractor).to(userInteractor_1.UserInteractor);
container.bind(Utils_1.INTERFACE_TYPE.UserController).to(UserController_1.UserController);
const userController = container.get(Utils_1.INTERFACE_TYPE.UserController);
router.post('/signup_submit', userController.signupSubmit.bind(userController));
router.patch('/verifyOtp', userController.verifyOtp.bind(userController));
router.post('/resendOTP', userController.resendOTP.bind(userController));
router.post('/login_submit', userController.loginSubmit.bind(userController));
router.get('/getUser', jwtUser_1.default.verifyToken, userController.getUser.bind(userController));
router.put('/update', jwtUser_1.default.verifyToken, userController.updateUser.bind(userController));
router.post('/getJobs', userController.getJobs.bind(userController));
router.post('/forgot_password', userController.saveForgotOtp.bind(userController));
router.post('/verifyFortgotOtp', userController.verifyOtp.bind(userController));
router.put('/resetPassword', userController.resetPassword.bind(userController));
router.get('/getJobData/:id', userController.getJobData.bind(userController));
router.post('/applyJob', jwtUser_1.default.verifyToken, userController.saveAppliedJob.bind(userController));
router.patch('/followAndUnfollow', jwtUser_1.default.verifyToken, userController.followAndUnfollow.bind(userController));
router.post('/downloadFile', jwtUser_1.default.verifyToken, userController.downloadFileFromChat.bind(userController));
router.get('/getChat', jwtUser_1.default.verifyToken, chatController_1.default.getChat.bind(userController).bind(userController));
router.get('/getPlans', jwtUser_1.default.verifyToken, userController.getPlans.bind(userController));
router.post('/savePayment', jwtUser_1.default.verifyToken, userController.savePayment.bind(userController));
router.post('/create-order', jwtUser_1.default.verifyToken, userController.createOrder.bind(userController));
router.get('/getPrevChatUsers', jwtUser_1.default.verifyToken, userController.getPrevChatUsers.bind(userController));
exports.default = router;
